import{_ as s,o as a,c as i,R as t}from"./chunks/framework.E9w9IFh5.js";const c=JSON.parse('{"title":"Location","description":"","frontmatter":{"title":"Location","date":"2020-05-20T16:54:16.000Z"},"headers":[],"relativePath":"doc/wpdoc/Location.md","filePath":"doc/wpdoc/Location.md"}'),n={name:"doc/wpdoc/Location.md"},l=t(`<h1 id="location" tabindex="-1">Location <a class="header-anchor" href="#location" aria-label="Permalink to &quot;Location&quot;">​</a></h1><p>定位控件，用于获取使用者当前的地理位置，可以重新定位。<br> 定位控件的是一个复合值控件，可以通过其component进行子值的获取</p><p>定位控件如果没有初始值，这回自动获取当前定位，并每隔1分钟刷新一次定位结果；如果有初始值，则不会启动定位，直接显示当前值。</p><p><img src="http://apaas.wxchina.com:8881/wp-content/uploads/locationSample1-1.png" alt="locationSample1"></p><h2 id="protocol-协议详解" tabindex="-1">Protocol 协议详解 <a class="header-anchor" href="#protocol-协议详解" aria-label="Permalink to &quot;Protocol 协议详解&quot;">​</a></h2><div class="language-Json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">Json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;location&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pagelistcontrol2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;当前位置&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;displaytype&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;normal&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;adjustradius&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;offlinelocatable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;linenumber&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;refreshrate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;height&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;baseloc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;latitude&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;longitude&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;range&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;500&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;strict&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;eventlist&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;trigger&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;onvaluechange&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;handler&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="displaytype-显示模式" tabindex="-1">displaytype 显示模式 <a class="header-anchor" href="#displaytype-显示模式" aria-label="Permalink to &quot;displaytype 显示模式&quot;">​</a></h3><p>【暂未实现】，统一使用 <code>normal</code> 模式</p><p>定位控件的显示类型，适用于不同的UI环境，有3种取值：<code>normal</code>=0 ， <code>mini</code>=1 ， <code>particular</code>=2。</p><h3 id="adjustradius-微调半径" tabindex="-1">adjustradius 微调半径 <a class="header-anchor" href="#adjustradius-微调半径" aria-label="Permalink to &quot;adjustradius 微调半径&quot;">​</a></h3><p>【暂未实现】</p><p>微调半径，由于定位受各种因素影响，定位不准的时候，用户可以手动在一定范围内微调。<br> 值为正整数，表示可微调的距离，以米为单位。<br> 默认值为空，表示不可微调。配置平台可以不用设置具体数字填写的功能，只提供“不可微调”，“200米”，“500米”，“1000米”，“不限制”这几个选项选择即可。</p><p>不限制，表示用户可以自由的调整定位点，通常用于采集门店的地位置等场景，此时取值为0。<br> 详细的微调方式，请参看下方的说明。</p><h3 id="offlinelocatable-离线定位" tabindex="-1">offlinelocatable 离线定位 <a class="header-anchor" href="#offlinelocatable-离线定位" aria-label="Permalink to &quot;offlinelocatable 离线定位&quot;">​</a></h3><p>【暂未实现】，统一支持离线定位</p><p>是否支持离线定位，离线状态下，无法获取地址信息，默认值为 <code>1</code>，即支持离线定位</p><h3 id="linenumber-地址显示行数" tabindex="-1">linenumber 地址显示行数 <a class="header-anchor" href="#linenumber-地址显示行数" aria-label="Permalink to &quot;linenumber 地址显示行数&quot;">​</a></h3><p>控制地址最大显示行数，目前只在web使用。</p><h3 id="refreshrate-刷新频率" tabindex="-1">refreshrate 刷新频率 <a class="header-anchor" href="#refreshrate-刷新频率" aria-label="Permalink to &quot;refreshrate 刷新频率&quot;">​</a></h3><p>控制定位数据刷新的频率</p><table><thead><tr><th>值</th><th>时间间隔(秒)</th></tr></thead><tbody><tr><td>ultrahigh</td><td>1</td></tr><tr><td>high</td><td>10</td></tr><tr><td>normal</td><td>60 默认值</td></tr><tr><td>low</td><td>180</td></tr><tr><td>ultralow</td><td>600</td></tr></tbody></table><blockquote><p>当定位控件有默认值时，该属性无效</p></blockquote><h3 id="baseloc-定位基准位置" tabindex="-1">baseloc 定位基准位置 <a class="header-anchor" href="#baseloc-定位基准位置" aria-label="Permalink to &quot;baseloc 定位基准位置&quot;">​</a></h3><p>用于设置定位的基准位置，当定位位置超出指定定位范围时，会有警告信息。</p><ul><li><p>latitude &amp; longitude</p><p>基准位置的经纬度，默认值为空，表示没有基准定位位置</p></li><li><p>range</p><p>有效范围，数字值，单位为米，默认值为 <code>500</code>，用于指定在基准位置周边的N米范围内定位都有效</p></li><li><p>strict</p><p>严格对比，bool值，默认值为 0。</p><p>当值为1时，表示必须要在指定范围内定位，超出范围的，控件会当做定位失败的错误处理，此时如果控件为必填，将会阻止数据提交。</p></li></ul><h2 id="value-format" tabindex="-1">Value Format <a class="header-anchor" href="#value-format" aria-label="Permalink to &quot;Value Format&quot;">​</a></h2><p>定位控件的值的类型是<code>Location</code></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;latitude&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123.12345&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;longitude&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123.12345&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;address&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;广州市天河区体育西路101号32楼&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;exception&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;deviation&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;300&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><p>exception</p><p>定位过程中出现的异常种类目前只有以下两种取值</p></li></ul><table><thead><tr><th>取值</th><th>含义</th></tr></thead><tbody><tr><td>0</td><td>没有异常</td></tr><tr><td>1</td><td>地址获取失败</td></tr></tbody></table><ul><li><p>deviation 偏差</p><p>当设置了定位基准点时，才会有该字段值，用于记录定位偏差值，单位为米</p></li></ul><h2 id="component" tabindex="-1">Component <a class="header-anchor" href="#component" aria-label="Permalink to &quot;Component&quot;">​</a></h2><table><thead><tr><th>name</th><th>value</th><th>meaning</th><th>取值</th><th>赋值</th></tr></thead><tbody><tr><td>latitude</td><td>123.12345</td><td>纬度</td><td>✅</td><td>✅</td></tr><tr><td>longitude</td><td>123.12345</td><td>经度</td><td>✅</td><td>✅</td></tr><tr><td>address</td><td>广州市天河区体育西路101号32楼</td><td>地址</td><td>✅</td><td>🚫</td></tr><tr><td>deviation</td><td>2300</td><td>定位偏差，只有设置了定位基准点才有效</td><td>✅</td><td>🚫</td></tr></tbody></table><h2 id="feature" tabindex="-1">Feature <a class="header-anchor" href="#feature" aria-label="Permalink to &quot;Feature&quot;">​</a></h2><p>定位控件有以下一些特别的功能。</p><ul><li><p>Map View<br> 在成功定位的情形下，可以通过点击地址信息，可以跳转到地图，并标注出定位点信息</p></li><li><p>Exception Handle<br> 定位会有很多异常的情况，针对不同的情况，我们应该给出对应的友好的提示或响应，有以下几种情况</p><ol><li><p>定位权限未开启<br> 此时可以提供开启权限的指引。</p></li><li><p>定位失败<br> 提示用户失败，并且可以给出常见的定位失败的原因。</p></li><li><p>没有网络<br> 提示用户没有网络，只能获取到经纬度，不能获取到详细的地址信息。</p></li><li><p>获取地址编码失败<br> 提示用户，并告知用户常见的失败的原因。</p></li></ol></li><li><p>Location Adjust</p></li></ul>`,36),e=[l];function p(h,r,o,d,k,E){return a(),i("div",null,e)}const b=s(n,[["render",p]]);export{c as __pageData,b as default};
