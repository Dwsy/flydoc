import{_ as s,o as n,c as a,Q as p}from"./chunks/framework.d084db19.js";const b=JSON.parse('{"title":"第三方授权说明","description":"","frontmatter":{"title":"第三方授权说明","date":"2023-03-07T15:55:48.000Z"},"headers":[],"relativePath":"doc/wpdoc/第三方授权说明.md","filePath":"doc/wpdoc/第三方授权说明.md"}'),l={name:"doc/wpdoc/第三方授权说明.md"},o=p(`<h1 id="第三方授权" tabindex="-1">第三方授权 <a class="header-anchor" href="#第三方授权" aria-label="Permalink to &quot;第三方授权&quot;">​</a></h1><h2 id="_1-apaas认证服务开放授权" tabindex="-1">1. aPaaS认证服务开放授权 <a class="header-anchor" href="#_1-apaas认证服务开放授权" aria-label="Permalink to &quot;1\\. aPaaS认证服务开放授权&quot;">​</a></h2><h3 id="_1-1-术语" tabindex="-1">1.1. 术语 <a class="header-anchor" href="#_1-1-术语" aria-label="Permalink to &quot;1.1. 术语&quot;">​</a></h3><p><strong>opencode</strong>: 是第三方认证体系中的用户唯一标识。</p><p><strong>opentype</strong>: 第三方认证端类型,如 微信小程序, 企业微信, 或某个企业的域认证服务</p><p><strong>opentypesecret</strong>: 第三方认证端授权密钥, 在某种类型的第三方认证端对接aPaaS时,由aPaaS生成并提供. 经过aPaaS授权的第三方认证服务/适配服务,在调用aPaaS授权认证api时,需要用到该密钥.</p><h3 id="_1-2-开发建议" tabindex="-1">1.2. 开发建议 <a class="header-anchor" href="#_1-2-开发建议" aria-label="Permalink to &quot;1.2. 开发建议&quot;">​</a></h3><ul><li>由于使用opentypesecret可在租户内进行免密登录，因此 <strong>禁止将opentypesecret暴露在客户端</strong>。</li><li>推荐的方法是由二开人员/第三方开发人员编写适配服务 ，<strong>opentypesecret保存在适配服务中</strong>。</li><li>获取到aPaaS-token后，即获得了aPaaS平台认证，后续流程与aPaaS其他接口相同。</li></ul><h3 id="_1-3-apaas开放认证接口" tabindex="-1">1.3. aPaaS开放认证接口 <a class="header-anchor" href="#_1-3-apaas开放认证接口" aria-label="Permalink to &quot;1.3. aPaaS开放认证接口&quot;">​</a></h3><h4 id="_1-3-1-openlogin" tabindex="-1">1.3.1. openlogin <a class="header-anchor" href="#_1-3-1-openlogin" aria-label="Permalink to &quot;1.3.1. openlogin&quot;">​</a></h4><p>针对已授权的第三方认证服务登录平台，具备指定某个已绑定账户的登录</p><p>请求</p><p><strong>POST /auth/openlogin</strong></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;accountinfocode&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;aPaaS平台账户唯一标识&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;opentypecode&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;第三方认证端标识,如:mini-program&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;opentypesecret&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;第三方认证端授权密钥&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;clienttypecode&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;预置的客户端类型,如 微信小程序为 6&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;accountinfocode&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;aPaaS平台账户唯一标识&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;opentypecode&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;第三方认证端标识,如:mini-program&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;opentypesecret&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;第三方认证端授权密钥&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;clienttypecode&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;预置的客户端类型,如 微信小程序为 6&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>响应</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;resp_data&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;token&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;eyJhbGciOiJIUzI1NiJ9.eyJMb2dpblVzZXIiOnsiYWNjb3VudENvZGUiOiIxIiwidGVuYW50Q29kZSI6IjEwMDgyMDEiLCJwcm9kdWN0Q29kZSI6IjgzNDY4MzIyMTI0MDE4NDgzNyIsInByb2R1Y3RWZXJzaW9uQ29kZSI6IjgzNDY4NjAxNzQ2OTQxNTQzMiIsImNsaWVudFR5cGVDb2RlIjozLCJ0b2tlbklkIjpudWxsLCJvcmdDb2RlIjpudWxsLCJ1c2VySW5mb0lkIjpudWxsLCJ1c2VySW5mb05hbWUiOm51bGwsInBvc2l0aW9uQ29kZSI6bnVsbCwicG9zaXRpb25OYW1lIjpudWxsLCJtZW1iZXJDb2RlIjpudWxsLCJyZWZQb3NpdGlvbkNvZGUiOm51bGwsIm9yZ1N0cnVjdFR5cGVJZCI6bnVsbCwidXNlck5hbWUiOiIxMTExMSIsIm1ldGFtb2RlbHR5cGUiOjF9fQ.CVFAUD10msMWjnSrNiSR9sDgG_ovp4Tf43Jtkgz2dH4&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;tenants&quot;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">            {</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;code&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;1008201&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;name&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;快销V8.1开发企业&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;accountcode&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;1&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;productversionlist&quot;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">                    {</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;code&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;834686017469415432&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;name&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;V8.1&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;productcode&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;834683221240184837&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">                    }</span></span>
<span class="line"><span style="color:#E1E4E8;">                ],</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;cloudserv&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">                    </span><span style="color:#79B8FF;">&quot;storage&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;provider&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;aliyun&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;storageendpoint&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;oss-cn-hangzhou.aliyuncs.com&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;storagebucket&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;apaas-storage&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;storageurl&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;apaas-storage.oss-cn-hangzhou.aliyuncs.com&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">                    }</span></span>
<span class="line"><span style="color:#E1E4E8;">                }</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        ]</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;resp_data&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;token&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;eyJhbGciOiJIUzI1NiJ9.eyJMb2dpblVzZXIiOnsiYWNjb3VudENvZGUiOiIxIiwidGVuYW50Q29kZSI6IjEwMDgyMDEiLCJwcm9kdWN0Q29kZSI6IjgzNDY4MzIyMTI0MDE4NDgzNyIsInByb2R1Y3RWZXJzaW9uQ29kZSI6IjgzNDY4NjAxNzQ2OTQxNTQzMiIsImNsaWVudFR5cGVDb2RlIjozLCJ0b2tlbklkIjpudWxsLCJvcmdDb2RlIjpudWxsLCJ1c2VySW5mb0lkIjpudWxsLCJ1c2VySW5mb05hbWUiOm51bGwsInBvc2l0aW9uQ29kZSI6bnVsbCwicG9zaXRpb25OYW1lIjpudWxsLCJtZW1iZXJDb2RlIjpudWxsLCJyZWZQb3NpdGlvbkNvZGUiOm51bGwsIm9yZ1N0cnVjdFR5cGVJZCI6bnVsbCwidXNlck5hbWUiOiIxMTExMSIsIm1ldGFtb2RlbHR5cGUiOjF9fQ.CVFAUD10msMWjnSrNiSR9sDgG_ovp4Tf43Jtkgz2dH4&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;tenants&quot;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">            {</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;code&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;1008201&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;name&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;快销V8.1开发企业&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;accountcode&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;1&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;productversionlist&quot;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">                    {</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;code&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;834686017469415432&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;name&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;V8.1&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;productcode&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;834683221240184837&quot;</span></span>
<span class="line"><span style="color:#24292E;">                    }</span></span>
<span class="line"><span style="color:#24292E;">                ],</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;cloudserv&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">                    </span><span style="color:#005CC5;">&quot;storage&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;provider&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;aliyun&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;storageendpoint&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;oss-cn-hangzhou.aliyuncs.com&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;storagebucket&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;apaas-storage&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;storageurl&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;apaas-storage.oss-cn-hangzhou.aliyuncs.com&quot;</span></span>
<span class="line"><span style="color:#24292E;">                    }</span></span>
<span class="line"><span style="color:#24292E;">                }</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        ]</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><strong>说明:响应结果与aPaaS认证体系的登录返回相同</strong></p><h4 id="_1-3-2-openbind" tabindex="-1">1.3.2. openbind <a class="header-anchor" href="#_1-3-2-openbind" aria-label="Permalink to &quot;1.3.2. openbind&quot;">​</a></h4><p>请求</p><p><strong>POST /auth/openbind</strong></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;apaasauth&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;username&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;aPaaS认证体系的用户名&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;password&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;aPaaS认证体系的密码&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;openauth&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;username&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;第三方认证体系的用户标识&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;opentypecode&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;第三方认证端类型, 如: mini-program&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;opentypesecret&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;第三方认证端授权密钥&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;clienttypecode&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;预置的客户端类型,如 微信小程序为 6&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;apaasauth&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;username&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;aPaaS认证体系的用户名&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;password&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;aPaaS认证体系的密码&quot;</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;openauth&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;username&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;第三方认证体系的用户标识&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;opentypecode&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;第三方认证端类型, 如: mini-program&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;opentypesecret&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;第三方认证端授权密钥&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;clienttypecode&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;预置的客户端类型,如 微信小程序为 6&quot;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>响应</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;resp_data&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;token&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;eyJhbGciOiJIUzI1NiJ9.eyJMb2dpblVzZXIiOnsiYWNjb3VudENvZGUiOiIxIiwidGVuYW50Q29kZSI6IjEwMDgyMDEiLCJwcm9kdWN0Q29kZSI6IjgzNDY4MzIyMTI0MDE4NDgzNyIsInByb2R1Y3RWZXJzaW9uQ29kZSI6IjgzNDY4NjAxNzQ2OTQxNTQzMiIsImNsaWVudFR5cGVDb2RlIjozLCJ0b2tlbklkIjpudWxsLCJvcmdDb2RlIjpudWxsLCJ1c2VySW5mb0lkIjpudWxsLCJ1c2VySW5mb05hbWUiOm51bGwsInBvc2l0aW9uQ29kZSI6bnVsbCwicG9zaXRpb25OYW1lIjpudWxsLCJtZW1iZXJDb2RlIjpudWxsLCJyZWZQb3NpdGlvbkNvZGUiOm51bGwsIm9yZ1N0cnVjdFR5cGVJZCI6bnVsbCwidXNlck5hbWUiOiIxMTExMSIsIm1ldGFtb2RlbHR5cGUiOjF9fQ.CVFAUD10msMWjnSrNiSR9sDgG_ovp4Tf43Jtkgz2dH4&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;tenants&quot;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">            {</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;code&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;1008201&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;name&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;快销V8.1开发企业&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;accountcode&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;1&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;productversionlist&quot;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">                    {</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;code&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;834686017469415432&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;name&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;V8.1&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;productcode&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;834683221240184837&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">                    }</span></span>
<span class="line"><span style="color:#E1E4E8;">                ],</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;cloudserv&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">                    </span><span style="color:#79B8FF;">&quot;storage&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;provider&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;aliyun&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;storageendpoint&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;oss-cn-hangzhou.aliyuncs.com&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;storagebucket&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;apaas-storage&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;storageurl&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;apaas-storage.oss-cn-hangzhou.aliyuncs.com&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">                    }</span></span>
<span class="line"><span style="color:#E1E4E8;">                }</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        ]</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;resp_data&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;token&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;eyJhbGciOiJIUzI1NiJ9.eyJMb2dpblVzZXIiOnsiYWNjb3VudENvZGUiOiIxIiwidGVuYW50Q29kZSI6IjEwMDgyMDEiLCJwcm9kdWN0Q29kZSI6IjgzNDY4MzIyMTI0MDE4NDgzNyIsInByb2R1Y3RWZXJzaW9uQ29kZSI6IjgzNDY4NjAxNzQ2OTQxNTQzMiIsImNsaWVudFR5cGVDb2RlIjozLCJ0b2tlbklkIjpudWxsLCJvcmdDb2RlIjpudWxsLCJ1c2VySW5mb0lkIjpudWxsLCJ1c2VySW5mb05hbWUiOm51bGwsInBvc2l0aW9uQ29kZSI6bnVsbCwicG9zaXRpb25OYW1lIjpudWxsLCJtZW1iZXJDb2RlIjpudWxsLCJyZWZQb3NpdGlvbkNvZGUiOm51bGwsIm9yZ1N0cnVjdFR5cGVJZCI6bnVsbCwidXNlck5hbWUiOiIxMTExMSIsIm1ldGFtb2RlbHR5cGUiOjF9fQ.CVFAUD10msMWjnSrNiSR9sDgG_ovp4Tf43Jtkgz2dH4&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;tenants&quot;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">            {</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;code&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;1008201&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;name&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;快销V8.1开发企业&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;accountcode&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;1&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;productversionlist&quot;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">                    {</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;code&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;834686017469415432&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;name&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;V8.1&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;productcode&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;834683221240184837&quot;</span></span>
<span class="line"><span style="color:#24292E;">                    }</span></span>
<span class="line"><span style="color:#24292E;">                ],</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;cloudserv&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">                    </span><span style="color:#005CC5;">&quot;storage&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;provider&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;aliyun&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;storageendpoint&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;oss-cn-hangzhou.aliyuncs.com&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;storagebucket&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;apaas-storage&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;storageurl&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;apaas-storage.oss-cn-hangzhou.aliyuncs.com&quot;</span></span>
<span class="line"><span style="color:#24292E;">                    }</span></span>
<span class="line"><span style="color:#24292E;">                }</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        ]</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><strong>说明:若绑定成功, 响应结果与aPaaS认证体系的登录返回相同</strong></p><h4 id="_1-3-3-servlogin" tabindex="-1">1.3.3. servlogin <a class="header-anchor" href="#_1-3-3-servlogin" aria-label="Permalink to &quot;1.3.3. servlogin&quot;">​</a></h4><p>服务调用业务服务的token，具备虚拟username 1234567890</p><p>平台支持两种服务类型:</p><ul><li>支持多租户的平台级服务，该接口可为第三方服务，提供模仿指定租户信息及虚拟登录人的token</li><li>仅单租户的租户级服务，该接口仅为指定注册的租户，提供模仿该租户的信息及虚拟登录人的token</li></ul><p>请求</p><p><strong>POST /auth/servlogin</strong></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;opentypecode&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;开放类型code&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;opentypesecret&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;开放类型密钥&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;clienttypecode&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;客户端类型, 某些特殊场景有效，若没有要求可为任意数字&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;tenantcode&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;租户code&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;opentypecode&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;开放类型code&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;opentypesecret&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;开放类型密钥&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;clienttypecode&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;客户端类型, 某些特殊场景有效，若没有要求可为任意数字&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;tenantcode&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;租户code&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>响应</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;resp_data&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;token信息&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;resp_data&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;token信息&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_1-4-示例-微信小程序认证适配" tabindex="-1">1.4. 示例, 微信小程序认证适配 <a class="header-anchor" href="#_1-4-示例-微信小程序认证适配" aria-label="Permalink to &quot;1.4. 示例, 微信小程序认证适配&quot;">​</a></h3><p><strong>login</strong></p><p><img src="http://apaas.wxchina.com:8881/wp-content/uploads/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%AE%A4%E8%AF%81%E9%80%82%E9%85%8D1.png" alt="auth3rd.minilogin.png"></p><p><strong>bind</strong></p><p><img src="http://apaas.wxchina.com:8881/wp-content/uploads/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%AE%A4%E8%AF%81%E9%80%82%E9%85%8D2.png" alt="auth3rd.minibind.png"></p><h4 id="_1-4-1-miniapi-login" tabindex="-1">1.4.1. /miniapi/login <a class="header-anchor" href="#_1-4-1-miniapi-login" aria-label="Permalink to &quot;1.4.1. /miniapi/login&quot;">​</a></h4><p>请求</p><p><strong>POST /api/miniapi/login</strong></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;code&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;wx.login获得的code&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;appid&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;小程序的appid&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;tenantcode&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;appcode&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;promotion&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;code&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;wx.login获得的code&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;appid&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;小程序的appid&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;tenantcode&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;appcode&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;promotion&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>响应</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;resp_data&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;token&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;eyJhbGciOiJIUzI1NiJ9.eyJMb2dpblVzZXIiOnsiYWNjb3VudENvZGUiOiIxIiwidGVuYW50Q29kZSI6IjEwMDgyMDEiLCJwcm9kdWN0Q29kZSI6IjgzNDY4MzIyMTI0MDE4NDgzNyIsInByb2R1Y3RWZXJzaW9uQ29kZSI6IjgzNDY4NjAxNzQ2OTQxNTQzMiIsImNsaWVudFR5cGVDb2RlIjozLCJ0b2tlbklkIjpudWxsLCJvcmdDb2RlIjpudWxsLCJ1c2VySW5mb0lkIjpudWxsLCJ1c2VySW5mb05hbWUiOm51bGwsInBvc2l0aW9uQ29kZSI6bnVsbCwicG9zaXRpb25OYW1lIjpudWxsLCJtZW1iZXJDb2RlIjpudWxsLCJyZWZQb3NpdGlvbkNvZGUiOm51bGwsIm9yZ1N0cnVjdFR5cGVJZCI6bnVsbCwidXNlck5hbWUiOiIxMTExMSIsIm1ldGFtb2RlbHR5cGUiOjF9fQ.CVFAUD10msMWjnSrNiSR9sDgG_ovp4Tf43Jtkgz2dH4&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;tenants&quot;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">            {</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;code&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;1008201&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;name&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;快销V8.1开发企业&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;accountcode&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;1&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;productversionlist&quot;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">                    {</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;code&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;834686017469415432&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;name&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;V8.1&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;productcode&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;834683221240184837&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">                    }</span></span>
<span class="line"><span style="color:#E1E4E8;">                ],</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;cloudserv&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">                    </span><span style="color:#79B8FF;">&quot;storage&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;provider&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;aliyun&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;storageendpoint&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;oss-cn-hangzhou.aliyuncs.com&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;storagebucket&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;apaas-storage&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;storageurl&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;apaas-storage.oss-cn-hangzhou.aliyuncs.com&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">                    }</span></span>
<span class="line"><span style="color:#E1E4E8;">                }</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        ]</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;resp_data&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;token&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;eyJhbGciOiJIUzI1NiJ9.eyJMb2dpblVzZXIiOnsiYWNjb3VudENvZGUiOiIxIiwidGVuYW50Q29kZSI6IjEwMDgyMDEiLCJwcm9kdWN0Q29kZSI6IjgzNDY4MzIyMTI0MDE4NDgzNyIsInByb2R1Y3RWZXJzaW9uQ29kZSI6IjgzNDY4NjAxNzQ2OTQxNTQzMiIsImNsaWVudFR5cGVDb2RlIjozLCJ0b2tlbklkIjpudWxsLCJvcmdDb2RlIjpudWxsLCJ1c2VySW5mb0lkIjpudWxsLCJ1c2VySW5mb05hbWUiOm51bGwsInBvc2l0aW9uQ29kZSI6bnVsbCwicG9zaXRpb25OYW1lIjpudWxsLCJtZW1iZXJDb2RlIjpudWxsLCJyZWZQb3NpdGlvbkNvZGUiOm51bGwsIm9yZ1N0cnVjdFR5cGVJZCI6bnVsbCwidXNlck5hbWUiOiIxMTExMSIsIm1ldGFtb2RlbHR5cGUiOjF9fQ.CVFAUD10msMWjnSrNiSR9sDgG_ovp4Tf43Jtkgz2dH4&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;tenants&quot;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">            {</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;code&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;1008201&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;name&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;快销V8.1开发企业&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;accountcode&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;1&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;productversionlist&quot;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">                    {</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;code&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;834686017469415432&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;name&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;V8.1&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;productcode&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;834683221240184837&quot;</span></span>
<span class="line"><span style="color:#24292E;">                    }</span></span>
<span class="line"><span style="color:#24292E;">                ],</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;cloudserv&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">                    </span><span style="color:#005CC5;">&quot;storage&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;provider&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;aliyun&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;storageendpoint&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;oss-cn-hangzhou.aliyuncs.com&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;storagebucket&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;apaas-storage&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;storageurl&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;apaas-storage.oss-cn-hangzhou.aliyuncs.com&quot;</span></span>
<span class="line"><span style="color:#24292E;">                    }</span></span>
<span class="line"><span style="color:#24292E;">                }</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        ]</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><strong>说明:响应aPaaS标准登录的结构</strong></p><h4 id="_1-4-2-miniapi-choosetenant" tabindex="-1">1.4.2. /miniapi/choosetenant <a class="header-anchor" href="#_1-4-2-miniapi-choosetenant" aria-label="Permalink to &quot;1.4.2. /miniapi/choosetenant&quot;">​</a></h4><p>请求</p><p><strong>POST /api/miniapi/choosetenant</strong></p><p>header</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;token&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;当前登录的token&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;token&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;当前登录的token&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>body</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;accountcode&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;租户账号&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;tenantcode&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;租户code&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;productcode&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;产品code&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;productversioncode&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;产品版本code&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;accountcode&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;租户账号&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;tenantcode&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;租户code&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;productcode&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;产品code&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;productversioncode&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;产品版本code&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>响应</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;resp_data&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;新token&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;resp_data&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;新token&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_1-4-3-miniapi-bind" tabindex="-1">1.4.3. /miniapi/bind <a class="header-anchor" href="#_1-4-3-miniapi-bind" aria-label="Permalink to &quot;1.4.3. /miniapi/bind&quot;">​</a></h4><p>请求</p><p><strong>POST /api/miniapi/bind</strong></p><p>header</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;token&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;当前登录的token&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;token&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;当前登录的token&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>body</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;code&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;wx.login获得的code&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;appid&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;小程序的appid&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;nickname&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;昵称&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;code&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;wx.login获得的code&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;appid&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;小程序的appid&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;nickname&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;昵称&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>响应</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_1-5-示例-企业微信小程序认证适配" tabindex="-1">1.5. 示例, 企业微信小程序认证适配 <a class="header-anchor" href="#_1-5-示例-企业微信小程序认证适配" aria-label="Permalink to &quot;1.5. 示例, 企业微信小程序认证适配&quot;">​</a></h3><h4 id="_1-5-1-qyapi-bind" tabindex="-1">1.5.1. /qyapi/bind <a class="header-anchor" href="#_1-5-1-qyapi-bind" aria-label="Permalink to &quot;1.5.1. /qyapi/bind&quot;">​</a></h4><p>请求</p><p><strong>POST /api/qyapi/bind</strong></p><p>header</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;token&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;当前登录的token&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;token&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;当前登录的token&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>body</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;code&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;wx.login获得的code&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;corpid&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;企业微信小程序的corpid&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;nickname&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;昵称&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;code&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;wx.login获得的code&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;corpid&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;企业微信小程序的corpid&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;nickname&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;昵称&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>响应</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_1-5-2-qyapi-login" tabindex="-1">1.5.2. /qyapi/login <a class="header-anchor" href="#_1-5-2-qyapi-login" aria-label="Permalink to &quot;1.5.2. /qyapi/login&quot;">​</a></h4><p>请求</p><p><strong>POST /api/qyapi/login</strong></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;code&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;wx.login获得的code&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;corpid&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;企业微信小程序的corpid&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;appcode&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;promotion&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;code&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;wx.login获得的code&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;corpid&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;企业微信小程序的corpid&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;appcode&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;promotion&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>响应</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;resp_data&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;token&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;eyJhbGciOiJIUzI1NiJ9.eyJMb2dpblVzZXIiOnsiYWNjb3VudENvZGUiOiIxIiwidGVuYW50Q29kZSI6IjEwMDgyMDEiLCJwcm9kdWN0Q29kZSI6IjgzNDY4MzIyMTI0MDE4NDgzNyIsInByb2R1Y3RWZXJzaW9uQ29kZSI6IjgzNDY4NjAxNzQ2OTQxNTQzMiIsImNsaWVudFR5cGVDb2RlIjozLCJ0b2tlbklkIjpudWxsLCJvcmdDb2RlIjpudWxsLCJ1c2VySW5mb0lkIjpudWxsLCJ1c2VySW5mb05hbWUiOm51bGwsInBvc2l0aW9uQ29kZSI6bnVsbCwicG9zaXRpb25OYW1lIjpudWxsLCJtZW1iZXJDb2RlIjpudWxsLCJyZWZQb3NpdGlvbkNvZGUiOm51bGwsIm9yZ1N0cnVjdFR5cGVJZCI6bnVsbCwidXNlck5hbWUiOiIxMTExMSIsIm1ldGFtb2RlbHR5cGUiOjF9fQ.CVFAUD10msMWjnSrNiSR9sDgG_ovp4Tf43Jtkgz2dH4&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;tenants&quot;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">            {</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;code&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;1008201&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;name&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;快销V8.1开发企业&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;accountcode&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;1&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;productversionlist&quot;</span><span style="color:#E1E4E8;">: [</span></span>
<span class="line"><span style="color:#E1E4E8;">                    {</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;code&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;834686017469415432&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;name&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;V8.1&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;productcode&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;834683221240184837&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">                    }</span></span>
<span class="line"><span style="color:#E1E4E8;">                ],</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;cloudserv&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">                    </span><span style="color:#79B8FF;">&quot;storage&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;provider&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;aliyun&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;storageendpoint&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;oss-cn-hangzhou.aliyuncs.com&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;storagebucket&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;apaas-storage&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                        </span><span style="color:#79B8FF;">&quot;storageurl&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;apaas-storage.oss-cn-hangzhou.aliyuncs.com&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">                    }</span></span>
<span class="line"><span style="color:#E1E4E8;">                }</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        ]</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;resp_data&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;token&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;eyJhbGciOiJIUzI1NiJ9.eyJMb2dpblVzZXIiOnsiYWNjb3VudENvZGUiOiIxIiwidGVuYW50Q29kZSI6IjEwMDgyMDEiLCJwcm9kdWN0Q29kZSI6IjgzNDY4MzIyMTI0MDE4NDgzNyIsInByb2R1Y3RWZXJzaW9uQ29kZSI6IjgzNDY4NjAxNzQ2OTQxNTQzMiIsImNsaWVudFR5cGVDb2RlIjozLCJ0b2tlbklkIjpudWxsLCJvcmdDb2RlIjpudWxsLCJ1c2VySW5mb0lkIjpudWxsLCJ1c2VySW5mb05hbWUiOm51bGwsInBvc2l0aW9uQ29kZSI6bnVsbCwicG9zaXRpb25OYW1lIjpudWxsLCJtZW1iZXJDb2RlIjpudWxsLCJyZWZQb3NpdGlvbkNvZGUiOm51bGwsIm9yZ1N0cnVjdFR5cGVJZCI6bnVsbCwidXNlck5hbWUiOiIxMTExMSIsIm1ldGFtb2RlbHR5cGUiOjF9fQ.CVFAUD10msMWjnSrNiSR9sDgG_ovp4Tf43Jtkgz2dH4&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;tenants&quot;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">            {</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;code&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;1008201&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;name&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;快销V8.1开发企业&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;accountcode&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;1&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;productversionlist&quot;</span><span style="color:#24292E;">: [</span></span>
<span class="line"><span style="color:#24292E;">                    {</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;code&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;834686017469415432&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;name&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;V8.1&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;productcode&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;834683221240184837&quot;</span></span>
<span class="line"><span style="color:#24292E;">                    }</span></span>
<span class="line"><span style="color:#24292E;">                ],</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;cloudserv&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">                    </span><span style="color:#005CC5;">&quot;storage&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;provider&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;aliyun&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;storageendpoint&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;oss-cn-hangzhou.aliyuncs.com&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;storagebucket&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;apaas-storage&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                        </span><span style="color:#005CC5;">&quot;storageurl&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;apaas-storage.oss-cn-hangzhou.aliyuncs.com&quot;</span></span>
<span class="line"><span style="color:#24292E;">                    }</span></span>
<span class="line"><span style="color:#24292E;">                }</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        ]</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h4 id="_1-5-3-qyapi-sendmessage" tabindex="-1">1.5.3 /qyapi/sendmessage <a class="header-anchor" href="#_1-5-3-qyapi-sendmessage" aria-label="Permalink to &quot;1.5.3 /qyapi/sendmessage&quot;">​</a></h4><p>请求</p><p><strong>POST /api/qyapi/sendmessage</strong></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">Header:</span></span>
<span class="line"><span style="color:#E1E4E8;">corpid=xxx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">body:</span></span>
<span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">&quot;touser&quot;</span><span style="color:#E1E4E8;"> : </span><span style="color:#9ECBFF;">&quot;zhangsan|lisi&quot;</span><span style="color:#E1E4E8;">,   </span><span style="color:#6A737D;">//成员ID列表（消息接收者，多个接收者用‘|’分隔，最多支持1000个）</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">&quot;toparty&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;1|2&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#6A737D;">//部门ID列表，多个接收者用‘|’分隔，最多支持100个。</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">&quot;totag&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;1|2&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#6A737D;">//标签ID列表，多个接收者用‘|’分隔，最多支持100个。</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">&quot;msgtype&quot;</span><span style="color:#E1E4E8;"> : </span><span style="color:#9ECBFF;">&quot;miniprogram_notice&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#6A737D;">//消息类型，此时固定为：miniprogram_notice</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">&quot;miniprogram_notice&quot;</span><span style="color:#E1E4E8;"> : {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;appid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;wx123123123123123&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#6A737D;">//小程序appid，必须是与当前小程序应用关联的小程序</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;page&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;pages/index?userid=zhangsan&amp;orderid=123123123&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#6A737D;">//点击消息卡片后的小程序页面，仅限本小程序内的页面。该字段不填则消息点击后不跳转。</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;title&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;会议室预订成功通知&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#6A737D;">//消息标题，长度限制4-12个汉字</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;description&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;4月27日 16:16&quot;</span><span style="color:#E1E4E8;">,  </span><span style="color:#6A737D;">//消息描述，长度限制4-12个汉字</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;emphasis_first_item&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,  </span><span style="color:#6A737D;">//是否放大第一个content_item</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;content_item&quot;</span><span style="color:#E1E4E8;">: [   </span><span style="color:#6A737D;">//消息内容键值对，最多允许10个item</span></span>
<span class="line"><span style="color:#E1E4E8;">            {</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;key&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;会议室&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">//长度10个汉字以内</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;value&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;402&quot;</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//长度30个汉字以内</span></span>
<span class="line"><span style="color:#E1E4E8;">            },</span></span>
<span class="line"><span style="color:#E1E4E8;">            {</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;key&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;会议地点&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;value&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;广州TIT-402会议室&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">            },</span></span>
<span class="line"><span style="color:#E1E4E8;">            {</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;key&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;会议时间&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;value&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;2018年8月1日 09:00-09:30&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">            },</span></span>
<span class="line"><span style="color:#E1E4E8;">            {</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;key&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;参与人员&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#79B8FF;">&quot;value&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;周剑轩&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        ]</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">&quot;enable_id_trans&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//表示是否开启id转译，0表示否，1表示是，默认0 （支持转译title、description、content_item.value字段）</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">Header:</span></span>
<span class="line"><span style="color:#24292E;">corpid=xxx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">body:</span></span>
<span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#005CC5;">&quot;touser&quot;</span><span style="color:#24292E;"> : </span><span style="color:#032F62;">&quot;zhangsan|lisi&quot;</span><span style="color:#24292E;">,   </span><span style="color:#6A737D;">//成员ID列表（消息接收者，多个接收者用‘|’分隔，最多支持1000个）</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#005CC5;">&quot;toparty&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;1|2&quot;</span><span style="color:#24292E;">,  </span><span style="color:#6A737D;">//部门ID列表，多个接收者用‘|’分隔，最多支持100个。</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#005CC5;">&quot;totag&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;1|2&quot;</span><span style="color:#24292E;">,  </span><span style="color:#6A737D;">//标签ID列表，多个接收者用‘|’分隔，最多支持100个。</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#005CC5;">&quot;msgtype&quot;</span><span style="color:#24292E;"> : </span><span style="color:#032F62;">&quot;miniprogram_notice&quot;</span><span style="color:#24292E;">,  </span><span style="color:#6A737D;">//消息类型，此时固定为：miniprogram_notice</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#005CC5;">&quot;miniprogram_notice&quot;</span><span style="color:#24292E;"> : {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;appid&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;wx123123123123123&quot;</span><span style="color:#24292E;">,  </span><span style="color:#6A737D;">//小程序appid，必须是与当前小程序应用关联的小程序</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;page&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;pages/index?userid=zhangsan&amp;orderid=123123123&quot;</span><span style="color:#24292E;">,  </span><span style="color:#6A737D;">//点击消息卡片后的小程序页面，仅限本小程序内的页面。该字段不填则消息点击后不跳转。</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;title&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;会议室预订成功通知&quot;</span><span style="color:#24292E;">,  </span><span style="color:#6A737D;">//消息标题，长度限制4-12个汉字</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;description&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;4月27日 16:16&quot;</span><span style="color:#24292E;">,  </span><span style="color:#6A737D;">//消息描述，长度限制4-12个汉字</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;emphasis_first_item&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,  </span><span style="color:#6A737D;">//是否放大第一个content_item</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;content_item&quot;</span><span style="color:#24292E;">: [   </span><span style="color:#6A737D;">//消息内容键值对，最多允许10个item</span></span>
<span class="line"><span style="color:#24292E;">            {</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;key&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;会议室&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">//长度10个汉字以内</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;value&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;402&quot;</span><span style="color:#24292E;">  </span><span style="color:#6A737D;">//长度30个汉字以内</span></span>
<span class="line"><span style="color:#24292E;">            },</span></span>
<span class="line"><span style="color:#24292E;">            {</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;key&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;会议地点&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;value&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;广州TIT-402会议室&quot;</span></span>
<span class="line"><span style="color:#24292E;">            },</span></span>
<span class="line"><span style="color:#24292E;">            {</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;key&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;会议时间&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;value&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;2018年8月1日 09:00-09:30&quot;</span></span>
<span class="line"><span style="color:#24292E;">            },</span></span>
<span class="line"><span style="color:#24292E;">            {</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;key&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;参与人员&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">&quot;value&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;周剑轩&quot;</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        ]</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#005CC5;">&quot;enable_id_trans&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">  </span><span style="color:#6A737D;">//表示是否开启id转译，0表示否，1表示是，默认0 （支持转译title、description、content_item.value字段）</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>响应</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">&quot;errcode&quot;</span><span style="color:#E1E4E8;"> : </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">&quot;errmsg&quot;</span><span style="color:#E1E4E8;"> : </span><span style="color:#9ECBFF;">&quot;ok&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">&quot;invaliduser&quot;</span><span style="color:#E1E4E8;"> : </span><span style="color:#9ECBFF;">&quot;userid1|userid2&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 不区分大小写，返回的列表都统一转为小写</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">&quot;invalidparty&quot;</span><span style="color:#E1E4E8;"> : </span><span style="color:#9ECBFF;">&quot;partyid1|partyid2&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">&quot;invalidtag&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;tagid1|tagid2&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#005CC5;">&quot;errcode&quot;</span><span style="color:#24292E;"> : </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#005CC5;">&quot;errmsg&quot;</span><span style="color:#24292E;"> : </span><span style="color:#032F62;">&quot;ok&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#005CC5;">&quot;invaliduser&quot;</span><span style="color:#24292E;"> : </span><span style="color:#032F62;">&quot;userid1|userid2&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 不区分大小写，返回的列表都统一转为小写</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#005CC5;">&quot;invalidparty&quot;</span><span style="color:#24292E;"> : </span><span style="color:#032F62;">&quot;partyid1|partyid2&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#005CC5;">&quot;invalidtag&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;tagid1|tagid2&quot;</span></span>
<span class="line"><span style="color:#24292E;"> }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,85),e=[o];function t(c,r,E,i,u,y){return n(),a("div",null,e)}const d=s(l,[["render",t]]);export{b as __pageData,d as default};
